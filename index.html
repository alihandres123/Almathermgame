<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ò–≥—Ä–∞ –ø–æ –∑–∞–∫—É–ø—É ALMATHERM</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background-color: #f9f9f9;
      color: #1d439c;
    }
    h1 {
      color: #e1261c;
    }
    button {
      background-color: #1d439c;
      color: white;
      border: none;
      padding: 8px 16px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background-color: #15377a;
    }
    input[type="number"] {
      width: 60px;
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 4px;
    }
    select {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 4px;
    }
    .log {
      background: #eef0f7;
      padding: 10px;
      height: 200px;
      overflow-y: scroll;
      margin-top: 10px;
      border-left: 4px solid #1d439c;
    }
    .truck-animation {
      margin-top: 10px;
      height: 30px;
      background: #ddd;
      position: relative;
      overflow: hidden;
    }
    .truck {
      position: absolute;
      left: 0;
      top: 0;
      width: 30px;
      height: 30px;
      background: #e1261c;
      text-align: center;
      color: white;
      line-height: 30px;
      animation: drive linear forwards;
    }
    @keyframes drive {
      from { left: 0; }
      to { left: 100%; }
    }
  </style>
</head>
<body>
  <img src="1.png" alt="–õ–æ–≥–æ—Ç–∏–ø –ê–ª–º–∞—Ç–µ—Ä–º" style="height: 80px; display: block; margin-bottom: 10px;">
  <h1>üßæ –ò–≥—Ä–∞ –ø–æ –∑–∞–∫—É–ø—É ALMATHERM</h1>
  <p><strong>üìå –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤:</strong><br>
    A ‚Äî –¢—Ä—É–±—ã –∏ —Ñ–∏—Ç–∏–Ω–≥–∏ –ü–ü–†: —Ö–æ–¥–æ–≤–æ–π —Ç–æ–≤–∞—Ä, –¥–µ—à—ë–≤—ã–π, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–ø—Ä–æ—Å<br>
    B ‚Äî –°–º–µ—Å–∏—Ç–µ–ª–∏ –∏ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ: —Å—Ä–µ–¥–Ω—è—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Å–ø—Ä–æ—Å–∞<br>
    C ‚Äî –†–∞–¥–∏–∞—Ç–æ—Ä—ã Royal Thermo: —Ä–µ–¥–∫–æ –ø—Ä–æ–¥–∞—é—Ç—Å—è, –¥–æ—Ä–æ–≥–∏–µ, –≤—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å</p>
  <p id="day">–î–µ–Ω—å: 1</p>
  <p id="stats" style="margin-bottom: 10px; font-size: 14px;"></p>


  <h3>üöõ –ó–∞–∫–∞–∑</h3>
  <label for="vehicle">–¢–∏–ø –º–∞—à–∏–Ω—ã:</label>
  <select id="vehicle">
    <option value="small">–ú–∞–ª—ã–π –∞–≤—Ç–æ (25 –µ–¥, $60, 1 –¥–µ–Ω—å)</option>
    <option value="gazelle">–ì–∞–∑–µ–ª—å (65 –µ–¥, $95, 2 –¥–Ω—è)</option>
    <option value="truck">–§—É—Ä–∞ (120 –µ–¥, $140, 3 –¥–Ω—è)</option>
  </select>
  <div>
    –¢—Ä—É–±—ã –ü–ü–†: <input type="number" id="orderA" value="0" min="0"> 
    –°–º–µ—Å–∏—Ç–µ–ª–∏: <input type="number" id="orderB" value="0" min="0"> 
    –†–∞–¥–∏–∞—Ç–æ—Ä—ã RT: <input type="number" id="orderC" value="0" min="0">
  </div>
  <div id="orderSummary" style="margin-top: 10px; font-size: 14px; color: #444;">
    üí° <strong>–†–∞—Å—á—ë—Ç:</strong><br>
    –¢—Ä—É–±—ã –ü–ü–†: $<span id="costA">0.00</span>, 
    –°–º–µ—Å–∏—Ç–µ–ª–∏: $<span id="costB">0.00</span>, 
    –†–∞–¥–∏–∞—Ç–æ—Ä—ã: $<span id="costC">0.00</span><br>
    –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: $<span id="transportCost">0.00</span><br>
    <strong>–ò—Ç–æ–≥–æ:</strong> $<span id="totalOrderCost">0.00</span>
  </div>
  <button onclick="placeOrder()">üöö –°–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑</button>

  <br><br>
  <button onclick="nextDay()">‚è≠ –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å</button>
  <div class="truck-animation" id="truckAnim"></div>
  <div class="log" id="log"></div>
  <canvas id="chart" width="800" height="300"></canvas>

<script>
const stock = { A: 40, B: 40, C: 40 };
const incoming = [[], [], [], [], [], []];
const vehicles = {
  small: { name: '–ú–∞–ª—ã–π –∞–≤—Ç–æ', capacity: 25, cost: 60, days: 1 },
  gazelle: { name: '–ì–∞–∑–µ–ª—å', capacity: 65, cost: 95, days: 2 },
  truck: { name: '–§—É—Ä–∞', capacity: 120, cost: 140, days: 3 }
};
const purchasePrice = { A: 1.5, B: 1.8, C: 2.2 };

let day = 1;
let noOrderDays = 0;
let totalCost = 0;
let budget = 400;
let salary = 10;
let rent = 35;
let orderPlacedToday = false;
let activeDeliveries = [];
let totalRevenue = 0;
let spentPurchase = 0;
let spentTransport = 0;
let spentSalary = 0;
let spentRent = 0;
let spentTax = 0;
let spentPenalty = 0;
let spentStorage = 0;
let bought = { A: 0, B: 0, C: 0 };
let transportCount = { small: 0, gazelle: 0, truck: 0 };

let totalDemand = 0;
let totalSoldUnits = 0;


const logDiv = document.getElementById("log");
const truckAnim = document.getElementById("truckAnim");
const truckQueue = [];

const chartCtx = document.getElementById('chart').getContext('2d');
const chartData = {
  labels: [],
  datasets: [
    { label: '–û–±—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫', data: [], borderColor: 'blue', fill: false },
    { label: '–ü—Ä–æ–¥–∞–Ω–æ –≤ –¥–µ–Ω—å', data: [], borderColor: 'green', fill: false }
  ]
};
const gameChart = new Chart(chartCtx, {
  type: 'line',
  data: chartData,
  options: {
    responsive: false,
    plugins: {
      legend: { position: 'top' },
      title: { display: true, text: 'üìä –î–∏–Ω–∞–º–∏–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂' }
    }
  }
});

const demandModel = {
  A: Array.from({ length: 30 }, (_, i) => Math.random() < 0.1 ? Math.floor(Math.random() * 11 + 30) : Math.max(0, Math.floor(16 + Math.sin(i / 2.5) * 4 + (Math.random() - 0.5) * 8))),
  B: Array.from({ length: 30 }, (_, i) => Math.random() < 0.1 ? Math.floor(Math.random() * 11 + 35) : Math.max(0, Math.floor(16 + Math.sin(i / 4) * 7 + (Math.random() - 0.5) * 12))),
  C: Array.from({ length: 30 }, () => 0)
};
[2, 6, 11, 16, 20, 25, 28].forEach(d => demandModel.C[d] = Math.floor(Math.random() * 36 + 25));
demandModel.C[Math.floor(Math.random() * 30)] = Math.floor(Math.random() * 21 + 70);

const shortages = { A: 0, B: 0, C: 0 };
const penaltyTimers = { A: 0, B: 0, C: 0 };

function updateUI() {
  document.getElementById("day").textContent = `üìÖ –î–µ–Ω—å: ${day}`;
  document.getElementById("stats").innerHTML =
    `üì¶ –û—Å—Ç–∞—Ç–∫–∏ ‚Äî A: ${stock.A} B: ${stock.B} C: ${stock.C} &nbsp;|&nbsp; üí∞ –ë—é–¥–∂–µ—Ç: $${budget.toFixed(2)} &nbsp;|&nbsp; üìâ –ó–∞—Ç—Ä–∞—Ç—ã: $${totalCost.toFixed(2)}`;
}

function log(msg) {
  logDiv.innerHTML += `<div>${msg}</div>`;
  logDiv.scrollTop = logDiv.scrollHeight;
}

function placeOrder() {
  if (orderPlacedToday) return alert("–í—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–∫–∞–∑ –≤ –¥–µ–Ω—å!");
  const selectedType = document.getElementById("vehicle").value;
  const v = vehicles[selectedType];

  if (activeDeliveries.some(d => d.type === selectedType)) {
    alert(`${v.name} —É–∂–µ –≤ –ø—É—Ç–∏! –ü–æ–¥–æ–∂–¥–∏, –ø–æ–∫–∞ –≤–µ—Ä–Ω—ë—Ç—Å—è.`);
    return;
  }

  const A = +document.getElementById("orderA").value || 0;
  const B = +document.getElementById("orderB").value || 0;
  const C = +document.getElementById("orderC").value || 0;
  const totalQty = A + B + C;
  const purchaseCost = A * purchasePrice.A + B * purchasePrice.B + C * purchasePrice.C;
  const totalOrderCost = v.cost + purchaseCost;

  if (totalQty === 0 || totalQty > v.capacity) return alert("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ!");
  if (budget < totalOrderCost) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");

  incoming[v.days - 1].push(["A", A], ["B", B], ["C", C]);
  totalCost += totalOrderCost;
  budget -= totalOrderCost;
bought.A += A;
bought.B += B;
bought.C += C;
spentPurchase += purchaseCost;
spentTransport += v.cost;
transportCount[selectedType]++;


  activeDeliveries.push({ type: selectedType, days: v.days });

  queueTruckAnimation(v.days);
  log(`üì¶ –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω (${v.name}): A=${A}, B=${B}, C=${C}, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: $${v.cost}, –¢–æ–≤–∞—Ä—ã: $${purchaseCost.toFixed(2)}, –ò—Ç–æ–≥–æ: $${totalOrderCost.toFixed(2)}`);
  orderPlacedToday = true;
  updateUI();
}

function nextDay() {
  if (!orderPlacedToday) noOrderDays++; else noOrderDays = 0;
  orderPlacedToday = false;
  log(`<hr><b>üìÖ –î–µ–Ω—å ${day}</b>`);
  const arrivals = incoming.shift();
  arrivals.forEach(([g, q]) => { if (q > 0) { stock[g] += q; log(`üöö –ü–æ–ª—É—á–µ–Ω–æ ${q} –µ–¥. —Ç–æ–≤–∞—Ä–∞ ${g}`); } });
  incoming.push([]);
  truckQueue.forEach(t => t.days--); truckQueue.filter(t => t.days > 0).forEach(showTruck);
  activeDeliveries.forEach(d => d.days--);
activeDeliveries = activeDeliveries.filter(d => d.days > 0);

  let soldA = 0, soldB = 0, soldC = 0, totalSold = 0, penaltyTotal = 0;
  ["A", "B", "C"].forEach(group => {
    let demand = demandModel[group][day - 1] || 0;
    if (penaltyTimers[group] > 0) {
      const red = group === 'A' ? 0.4 : group === 'B' ? 0.5 : 0.7;
      demand = Math.floor(demand * (1 - red));
      penaltyTimers[group]--;
      log(`üìâ –°–ø—Ä–æ—Å –Ω–∞ ${group} —Å–Ω–∏–∂–µ–Ω –Ω–∞ ${red * 100}%`);
    }
    const sold = Math.min(demand, stock[group]);
totalDemand += demand;
totalSoldUnits += sold;
    const shortage = demand - sold;
    if (shortage > 0) {
      const p = shortage * 3.5;  // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à—Ç—Ä–∞—Ñ $3 –∑–∞ –∫–∞–∂–¥—É—é –Ω–µ–¥–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –µ–¥–∏–Ω–∏—Ü—É
penaltyTotal += p;
log(`‚ùó –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–ª—É—á–∏–ª —Ç–æ–≤–∞—Ä ${group}, —Ä–µ–ø—É—Ç–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ —Å–Ω–∏–∂–µ–Ω–∞! –®—Ç—Ä–∞—Ñ: $${p.toFixed(2)}`);

      shortages[group]++;
      if (shortages[group] >= 2 && penaltyTimers[group] === 0) {
        penaltyTimers[group] = 5;
        log(`‚ö†Ô∏è –°–ø—Ä–æ—Å –Ω–∞ ${group} –±—É–¥–µ—Ç —Å–Ω–∏–∂–µ–Ω –Ω–∞ 5 –¥–Ω–µ–π`);
        shortages[group] = 0;
      }
    } else {
      shortages[group] = 0;
    }
    stock[group] -= sold;
    totalSold += sold;
    if (group === 'A') soldA = sold;
    if (group === 'B') soldB = sold;
    if (group === 'C') soldC = sold;
    log(`üõí ${group}: —Å–ø—Ä–æ—Å ${demand}, –ø—Ä–æ–¥–∞–Ω–æ ${sold}, –¥–µ—Ñ–∏—Ü–∏—Ç ${shortage}`);
  });

  const revenue = soldA * 4.5 + soldB * 5.5 + soldC * 7;
  totalRevenue += revenue;
  const hold = (day % 3 === 0) ? storageFee() : 0;
  budget += revenue - hold - salary - rent - penaltyTotal;

spentSalary += salary;
spentRent += rent;
spentPenalty += penaltyTotal;
spentStorage += hold;
totalCost += hold + salary + rent + penaltyTotal;


  if (day % 5 === 0) {
    salary *= 1.15; rent *= 1.15;
    log(`‚¨ÜÔ∏è –†–æ—Å—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –∞—Ä–µ–Ω–¥—ã: –∑–∞—Ä–ø–ª–∞—Ç–∞ $${salary.toFixed(2)}, –∞—Ä–µ–Ω–¥–∞ $${rent.toFixed(2)}`);
  }
if (day % 10 === 0) {
  const tax = budget * 0.16;
  budget -= tax;
  spentTax += tax;
  totalCost += tax;
  log(`üí∏ –ù–∞–ª–æ–≥ 16%: -$${tax.toFixed(2)}`);
}

  if (hold > 0) log(`üì¶ –•—Ä–∞–Ω–µ–Ω–∏–µ (—Ä–∞–∑ –≤ 3 –¥–Ω—è): $${hold.toFixed(2)}`);
log(`üíµ –í—ã—Ä—É—á–∫–∞: $${revenue.toFixed(2)} | –ó–∞—Ä–ø–ª–∞—Ç–∞: $${salary.toFixed(2)} | –ê—Ä–µ–Ω–¥–∞: $${rent.toFixed(2)} | –®—Ç—Ä–∞—Ñ—ã: $${penaltyTotal.toFixed(2)}`);
  chartData.labels.push(day);
  chartData.datasets[0].data.push(stock.A + stock.B + stock.C);
  chartData.datasets[1].data.push(totalSold);
  gameChart.update();

  if (budget < 0 || day >= 30) {
    log(budget < 0 ? "‚ùå –ë—é–¥–∂–µ—Ç —É—à—ë–ª –≤ –º–∏–Ω—É—Å. –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!" : "üéâ –í—ã —É—Å–ø–µ—à–Ω–æ —É–ø—Ä–∞–≤–ª—è–ª–∏ –∑–∞–ø–∞—Å–∞–º–∏ 30 –¥–Ω–µ–π!");
    document.querySelector("button[onclick='nextDay()']").disabled = true;
    document.querySelector("button[onclick='placeOrder()']").disabled = true;
  }
if (budget < 0 || day >= 30) {
  showFinalStats();
}
  
day++;
  updateUI();
}

function storageFee() {
  let fee = 0;
  for (const group in stock) {
    const qty = stock[group];
    if (qty <= 40) fee += qty * 0.4;
else if (qty <= 80) fee += qty * 1.0;
else fee += qty * 2.5;

if (qty > 80) {
  const over = qty - 80;
  const fine = over * 4.5;
  log(`‚ö†Ô∏è –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ ${group}: $${fine.toFixed(2)}`);
  fee += fine;
    }
  }
  return fee;
}

function showFinalStats() {
  document.getElementById("finalStats").style.display = "block";
  document.getElementById("finalBudget").textContent = budget.toFixed(2);
  document.getElementById("totalRevenue").textContent = totalRevenue.toFixed(2);
  document.getElementById("spentPurchase").textContent = spentPurchase.toFixed(2);
  document.getElementById("spentTransport").textContent = spentTransport.toFixed(2);
  document.getElementById("spentSalary").textContent = spentSalary.toFixed(2);
  document.getElementById("spentRent").textContent = spentRent.toFixed(2);
  document.getElementById("spentTax").textContent = spentTax.toFixed(2);
  document.getElementById("spentPenalty").textContent = spentPenalty.toFixed(2);
  document.getElementById("spentStorage").textContent = spentStorage.toFixed(2);
  document.getElementById("boughtA").textContent = bought.A;
  document.getElementById("boughtB").textContent = bought.B;
  document.getElementById("boughtC").textContent = bought.C;
  document.getElementById("boughtTotal").textContent = bought.A + bought.B + bought.C;
  document.getElementById("countSmall").textContent = transportCount.small;
  document.getElementById("countGazelle").textContent = transportCount.gazelle;
  document.getElementById("countTruck").textContent = transportCount.truck;
  document.getElementById("missedDays").textContent = noOrderDays;
  document.getElementById("deficitPenalties").textContent = Object.values(shortages).reduce((a, b) => a + b, 0);
  const avg = chartData.datasets[0].data.reduce((a, b) => a + b, 0) / chartData.datasets[0].data.length;
  document.getElementById("avgStock").textContent = avg.toFixed(2);
  const satisfaction = (totalSoldUnits / totalDemand) * 100;
  document.getElementById("satisfaction").textContent = satisfaction.toFixed(1);

  const turnover = (totalSoldUnits / (bought.A + bought.B + bought.C)) * 100;
const analysis = analyzeGame(satisfaction, totalRevenue, spentPenalty, noOrderDays, turnover);

  document.getElementById("analysisText").textContent = analysis;
}
const playerTypes = {
  strategist: [
    "–¢—ã –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å—Ç—Ä–∞—Ç–µ–≥, –∫–∞–∂–¥—ã–π —à–∞–≥ –±—ã–ª –≤—ã–≤–µ—Ä–µ–Ω.",
    "–¢—ã –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–ª –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é.",
    "–£ —Ç–µ–±—è –≤—Å—ë –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º ‚Äî –∫–∞–∫ —à–∞—Ö–º–∞—Ç–∏—Å—Ç –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ö–æ–¥–∞—Ö.",
    "–¢—ã —É–ø—Ä–∞–≤–ª—è–ª —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–∞–∫ –º–∞—Å—Ç–µ—Ä –∑–∞–∫—É–ø–∞.",
    "–¢—ã –≤–∏–¥–µ–ª –∫–∞—Ä—Ç–∏–Ω—É —Ü–µ–ª–∏–∫–æ–º ‚Äî —Ä–µ—Å–ø–µ–∫—Ç.",
    "–¢—ã –∏–≥—Ä–∞–ª —Å–ø–æ–∫–æ–π–Ω–æ, –±–µ–∑ –ø–∞–Ω–∏–∫–∏ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å.",
    "–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ —Ä–∞—Å—á—ë—Ç–ª–∏–≤—ã–π ‚Äî —ç—Ç–æ –ø—Ä–æ —Ç–µ–±—è.",
    "–ü–æ—á—Ç–∏ –Ω–µ –±—ã–ª–æ –ø—Ä–æ—Å–∞–¥–æ–∫ ‚Äî —Ç—ã –º–∞—Å—Ç–µ—Ä –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞.",
    "–¢—ã –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º ‚Äî –Ω–æ –≤ —Ö–æ—Ä–æ—à–µ–º —Å–º—ã—Å–ª–µ.",
    "–¢—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–ª–∏–∑–∫–æ –∫ –∏–¥–µ–∞–ª—å–Ω–æ–º—É –∏–≥—Ä–æ–∫—É."
  ],
  risky: [
    "–¢—ã –∏–≥—Ä–∞–ª –Ω–∞ –≥—Ä–∞–Ω–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ ‚Äî –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ!",
    "–ß–∞—Å—Ç–æ —Ä–∏—Å–∫–æ–≤–∞–ª –∏ –∂–µ—Ä—Ç–≤–æ–≤–∞–ª –∑–∞–ø–∞—Å–∞–º–∏ —Ä–∞–¥–∏ –ø—Ä–∏–±—ã–ª–∏.",
    "–õ—é–±–∏—à—å –æ—Å—Ç—Ä—ã–µ –æ—â—É—â–µ–Ω–∏—è? –í–∏–¥–Ω–æ.",
    "–ú–æ–≥ –±—ã –ø–æ–π—Ç–∏ –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥ ‚Äî —Å—Ç–∏–ª—å –æ–¥–∏–Ω –≤ –æ–¥–∏–Ω.",
    "–°–º–µ–ª–æ, –Ω–æ –º–µ—Å—Ç–∞–º–∏ –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ.",
    "–ò–Ω–æ–≥–¥–∞ –∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –≤—Å—ë –≤–æ—Ç-–≤–æ—Ç —Ä—É—Ö–Ω–µ—Ç‚Ä¶ –Ω–æ –¥–µ—Ä–∂–∞–ª—Å—è.",
    "–¢—ã –Ω–µ –±–æ–∏—à—å—Å—è –º–∏–Ω—É—Å–∞ ‚Äî –∏ —ç—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–ª—é—Å –∏ –º–∏–Ω—É—Å.",
    "–ñ—ë—Å—Ç–∫–æ —É–ø—Ä–∞–≤–ª—è–µ—à—å —Ä–∏—Å–∫–∞–º–∏, –Ω–æ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–≥–∏–±–∞–µ—à—å.",
    "–¢—ã –∫–∞–∫ –∫–∞–∑–∏–Ω–æ: –ª–∏–±–æ –≤–∑–ª—ë—Ç, –ª–∏–±–æ —à—Ç—Ä–∞—Ñ.",
    "–ò–≥—Ä–∞ –≤ –≤–∞-–±–∞–Ω–∫ ‚Äî —Ç–≤–æ—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è."
  ],
  cautious: [
    "–¢—ã –∏–≥—Ä–∞–ª –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –º–µ—Å—Ç–∞–º–∏ –¥–∞–∂–µ —Å–ª–∏—à–∫–æ–º.",
    "–ü—ã—Ç–∞–ª—Å—è –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ —à—Ç—Ä–∞—Ñ–∞ ‚Äî –∏ –ø–æ—á—Ç–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å.",
    "–¢—ã –±–µ—Ä–µ–≥ –±—é–¥–∂–µ—Ç –∫–∞–∫ –∑–µ–Ω–∏—Ü—É –æ–∫–∞.",
    "–¢—ã —è–≤–Ω–æ –∑–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–µ –ø—Ä–æ —Ä–∏—Å–∫.",
    "–ü–ª–∞–≤–Ω–æ—Å—Ç—å ‚Äî —Ç–≤–æ—ë –≤—Ç–æ—Ä–æ–µ –∏–º—è.",
    "–†–∏—Å–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã, –Ω–æ –∏ –¥–æ—Ö–æ–¥ —Ç–æ–∂–µ.",
    "–¢—ã –∏–∑–±–µ–≥–∞–ª –∫—Ä–∞–π–Ω–æ—Å—Ç–µ–π ‚Äî –∏ —ç—Ç–æ –¥–∞–ª–æ —Å–≤–æ–∏ –ø–ª–æ–¥—ã.",
    "–î–æ–≤–æ–ª—å–Ω–æ —É–≤–µ—Ä–µ–Ω–Ω–æ, –Ω–æ –±–µ–∑ —Ä–µ–∑–∫–∏—Ö —à–∞–≥–æ–≤.",
    "–ú–µ—Å—Ç–∞–º–∏ –º–æ–≥ –±—ã —Å—ã–≥—Ä–∞—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ.",
    "–ï—Å–ª–∏ –±—ã –±—ã–ª–∞ –Ω–æ–º–∏–Ω–∞—Ü–∏—è ¬´–°–∞–º—ã–π –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π¬ª ‚Äî —Ç—ã –±—ã –ø–æ–±–µ–¥–∏–ª."
  ],
  chaotic: [
    "–ü–æ–ª–Ω—ã–π —Ö–∞–æ—Å ‚Äî –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ!",
    "–¢—ã –∑–∞–∫—É–ø–∞–ª –±–µ–∑ —Å–∏—Å—Ç–µ–º—ã, –∫–∞–∫ –±—É–¥—Ç–æ —Ä–∞–Ω–¥–æ–º –∫–ª–∏–∫–∞–ª.",
    "–ù–µ —Ö–≤–∞—Ç–∞–ª–æ –ª–æ–≥–∏–∫–∏ ‚Äî –∑–∞—Ç–æ –±—ã–ª–æ –≤–µ—Å–µ–ª–æ.",
    "–¢—ã –∏–≥—Ä–∞–ª –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ, –Ω–µ –≤—Å–µ–≥–¥–∞ –ª–æ–≥–∏—á–Ω–æ.",
    "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∫–∞–∫ –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ.",
    "–ú–µ—Å—Ç–∞–º–∏ —Ä–µ—à–µ–Ω–∏—è –±—ã–ª–∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏, –º—è–≥–∫–æ –≥–æ–≤–æ—Ä—è.",
    "–¢—ã –±—Ä–æ—Å–∞–ª –≤—ã–∑–æ–≤ –∑–¥—Ä–∞–≤–æ–º—É —Å–º—ã—Å–ª—É‚Ä¶ –∏ –∏–Ω–æ–≥–¥–∞ –ø–æ–±–µ–∂–¥–∞–ª.",
    "–ò–Ω—Ç—É–∏—Ü–∏—è –≤–∞–∂–Ω–∞ ‚Äî –Ω–æ –µ–π –Ω—É–∂–Ω–æ –ø–æ–º–æ–≥–∞—Ç—å —Ü–∏—Ñ—Ä–∞–º–∏.",
    "–ó–∞–∫—É–ø –Ω–∞—É–≥–∞–¥ ‚Äî —Ç–≤–æ—è –≤–∏–∑–∏—Ç–∫–∞.",
    "–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å ‚Äî —Ç–≤–æ—è —Ñ–∏—à–∫–∞."
  ],
  forgetful: [
    "–¢—ã —á–∞—Å—Ç–æ –∑–∞–±—ã–≤–∞–ª –ø—Ä–æ –∑–∞–∫—É–ø ‚Äî –∏ —ç—Ç–æ —Å—Ç–æ–∏–ª–æ —Ç–µ–±–µ –æ—á–∫–æ–≤.",
    "–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏–ª —Ö–æ–¥ ‚Äî –∑–∞—á–µ–º?",
    "–¢—ã –∫–∞–∫ –±—É–¥—Ç–æ –∑–∞–±—ã–≤–∞–ª, —á—Ç–æ –∏–≥—Ä–∞ –∏–¥—ë—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
    "–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–Ω–∏ ‚Äî —Ç–≤–æ–π –≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞–≥.",
    "–ï—Å–ª–∏ –±—ã —Ç—ã –¥–µ–ª–∞–ª –∑–∞–∫–∞–∑—ã —á–∞—â–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª –±—ã –ª—É—á—à–µ.",
    "–¢—ã –Ω–µ–ø–ª–æ—Ö–æ –∏–≥—Ä–∞–ª‚Ä¶ –∫–æ–≥–¥–∞ –ø–æ–º–Ω–∏–ª.",
    "–ü—Ä–æ–º–µ–¥–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–ª–æ –¥–æ—Ä–æ–≥–æ.",
    "–ü–∞—Å—Å–∏–≤–Ω–æ—Å—Ç—å –º–µ—à–∞–ª–∞ —Ç–≤–æ–µ–º—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—É.",
    "–ù–µ –∑–∞–±—ã–≤–∞–π, –≤ –∑–∞–∫—É–ø–µ –≤–∞–∂–Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å!",
    "–ï—Å–ª–∏ –±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∏, —Ç—ã –±—ã –≤—ã–∏–≥—Ä–∞–ª —Å –∑–∞–ø–∞—Å–æ–º."
  ],
  bankrupt: [
    "–¢—ã —É—à—ë–ª –≤ –º–∏–Ω—É—Å ‚Äî —É–≤—ã, –±–∏–∑–Ω–µ—Å –Ω–µ –¥–ª—è –≤—Å–µ—Ö.",
    "–ë—é–¥–∂–µ—Ç –ø—Ä–æ—Å–µ–ª –¥–æ –Ω—É–ª—è ‚Äî –∂—ë—Å—Ç–∫–æ.",
    "–ù–∞–¥–æ –±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å —á—É—Ç—å –ª—É—á—à–µ.",
    "–¢—ã –ø–µ—Ä–µ–æ—Ü–µ–Ω–∏–ª –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—é–¥–∂–µ—Ç–∞.",
    "–ü–∞–¥–µ–Ω–∏–µ –±—ã–ª–æ —Å—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω—ã–º.",
    "–í —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä–µ –¥–µ—Ä–∂–∏ –±–∞–ª–∞–Ω—Å –∂—ë—Å—Ç—á–µ.",
    "–¢—ã —Å–ª–∏—à–∫–æ–º —Ä–∞—Å—Å–ª–∞–±–∏–ª—Å—è –ø–æ–¥ –∫–æ–Ω–µ—Ü.",
    "–£—Ä–æ–∫ —É—Å–≤–æ–µ–Ω ‚Äî –Ω–∞–¥–µ—é—Å—å.",
    "–§–∏–Ω–∞–Ω—Å—ã –ø–æ—é—Ç —Ä–æ–º–∞–Ω—Å—ã.",
    "–¢—ã –±—ã–ª –±–ª–∏–∑–æ–∫ –∫ –ø–æ–±–µ–¥–µ, –Ω–æ –Ω–µ —Ä–∞—Å—Å—á–∏—Ç–∞–ª —Å–∏–ª—ã."
  ]
};

function analyzeGame(satisfaction, revenue, penalties, missedDays, turnover) {
  let mood = satisfaction > 90 ? "–í—ã ‚Äî –ø—Ä–∏—Ä–æ–∂–¥—ë–Ω–Ω—ã–π —Å—Ç—Ä–∞—Ç–µ–≥." :
             satisfaction > 75 ? "–£ –≤–∞—Å —Ö–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –Ω–æ –≤—ã –º–æ–≥–ª–∏ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –µ—â—ë –±–æ–ª—å—à–µ." :
             satisfaction > 50 ? "–í—ã —Å—Ç–∞—Ä–∞–ª–∏—Å—å, –Ω–æ –∑–∞–ø–∞—Å–æ–≤ –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ." :
             "–ß–∞—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ —Ç–æ–≤–∞—Ä–æ–≤. –ù—É–∂–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ —Å—á–∏—Ç–∞—Ç—å —Å–ø—Ä–æ—Å.";

  let riskStyle = penalties > 200 ? "–í—ã —Å–∫–ª–æ–Ω–Ω—ã –∫ —Ä–∏—Å–∫—É, —á–∞—Å—Ç–æ —É–ø—É—Å–∫–∞—è –∑–∞–∫–∞–∑—ã." :
                   penalties > 100 ? "–ò–Ω–æ–≥–¥–∞ –≤—ã –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–∞–ª–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é —Ä–∞–¥–∏ —ç–∫–æ–Ω–æ–º–∏–∏." :
                   "–í—ã –∏–≥—Ä–∞–µ—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è —à—Ç—Ä–∞—Ñ—ã.";

  let discipline = missedDays > 5 ? "–í—ã –Ω–µ –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–ª–∏ –∑–∞–∫—É–ø –≤–æ–≤—Ä–µ–º—è ‚Äî —ç—Ç–æ –ø–æ–¥–æ—Ä–≤–∞–ª–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å." :
                   missedDays > 0 ? "–ò–Ω–æ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∞–ª–∏ –¥–Ω–∏, —á—Ç–æ –ø–æ–≤–ª–∏—è–ª–æ –Ω–∞ –≤—ã—Ä—É—á–∫—É." :
                   "–í—ã –¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.";

  let turnoverNote = turnover > 90 ? "–í–∞—à–∏ –∑–∞–∫—É–ø—ã –±—ã–ª–∏ –ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã ‚Äî –º–∏–Ω–∏–º—É–º –∑–∞–ª–µ–∂–µ–π!" :
                     turnover > 70 ? "–•–æ—Ä–æ—à–∞—è –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–ª–µ–∂–∞–ª–∏—Å—å." :
                     turnover > 50 ? "–ú–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ ‚Äî –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—á–Ω–µ–µ." :
                     "–í–∞—à–∏ —Å–∫–ª–∞–¥—ã –±—ã–ª–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω—ã ‚Äî —Å—Ç–æ–∏—Ç –ª—É—á—à–µ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø—Ä–æ—Å.";

  return `${mood}\n${riskStyle}\n${discipline}\n${turnoverNote}`;
}




function queueTruckAnimation(days) {
  truckQueue.push({ days });
}
function showTruck() {
  const truck = document.createElement("div");
  truck.className = "truck";
  truck.textContent = "üöö";
  truck.style.animationDuration = "1000ms";
  truckAnim.appendChild(truck);
  setTimeout(() => { truck.remove(); }, 1000);
}

function updateOrderSummary() {
  const v = vehicles[document.getElementById("vehicle").value];
  const A = +document.getElementById("orderA").value || 0;
  const B = +document.getElementById("orderB").value || 0;
  const C = +document.getElementById("orderC").value || 0;
  const costA = A * purchasePrice.A;
  const costB = B * purchasePrice.B;
  const costC = C * purchasePrice.C;
  const transport = v.cost;
  const total = costA + costB + costC + transport;
  document.getElementById("costA").textContent = costA.toFixed(2);
  document.getElementById("costB").textContent = costB.toFixed(2);
  document.getElementById("costC").textContent = costC.toFixed(2);
  document.getElementById("transportCost").textContent = transport.toFixed(2);
  document.getElementById("totalOrderCost").textContent = total.toFixed(2);
}

["orderA", "orderB", "orderC", "vehicle"].forEach(id => {
  document.getElementById(id).addEventListener("input", updateOrderSummary);
});
updateOrderSummary();
updateUI();
</script>
<div id="finalStats" style="display:none; margin-top:20px; background:#fffbe6; padding:15px; border:2px solid #e1261c; border-radius:10px;">
  <h2>üèÅ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
  <p><strong>üí∞ –§–∏–Ω–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç:</strong> $<span id="finalBudget"></span></p>
  <p><strong>üí∏ –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ (–≤—ã—Ä—É—á–∫–∞):</strong> $<span id="totalRevenue"></span></p>
  <p><strong>üîª –í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ:</strong></p>
  <ul>
    <li>–Ω–∞ –∑–∞–∫—É–ø–∫–∏: $<span id="spentPurchase"></span></li>
    <li>–Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç: $<span id="spentTransport"></span></li>
    <li>–Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç—É: $<span id="spentSalary"></span></li>
    <li>–Ω–∞ –∞—Ä–µ–Ω–¥—É: $<span id="spentRent"></span></li>
    <li>–Ω–∞ –Ω–∞–ª–æ–≥–∏: $<span id="spentTax"></span></li>
    <li>–Ω–∞ —à—Ç—Ä–∞—Ñ—ã: $<span id="spentPenalty"></span></li>
    <li>–Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: $<span id="spentStorage"></span></li>
  </ul>
  <p><strong>üì¶ –ö—É–ø–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤:</strong> A: <span id="boughtA"></span>, B: <span id="boughtB"></span>, C: <span id="boughtC"></span>, –≤—Å–µ–≥–æ: <span id="boughtTotal"></span></p>
  <p><strong>üöö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤:</strong> –ú–∞–ª—ã–π –∞–≤—Ç–æ: <span id="countSmall"></span>, –ì–∞–∑–µ–ª—å: <span id="countGazelle"></span>, –§—É—Ä–∞: <span id="countTruck"></span></p>
  <p><strong>üòµ –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–Ω–∏ –±–µ–∑ –∑–∞–∫–∞–∑–∞:</strong> <span id="missedDays"></span></p>
  <p><strong>‚ö†Ô∏è –®—Ç—Ä–∞—Ñ—ã –∑–∞ –¥–µ—Ñ–∏—Ü–∏—Ç:</strong> <span id="deficitPenalties"></span></p>
  <p><strong>üìâ –°—Ä–µ–¥–Ω–∏–π –æ—Å—Ç–∞—Ç–æ–∫:</strong> <span id="avgStock"></span></p>
  <p><strong>üìä –£—Ä–æ–≤–µ–Ω—å —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è —Å–ø—Ä–æ—Å–∞:</strong> <span id="satisfaction"></span>%</p>
  <div style="margin-top: 15px;">
    <h3>üß† –ê–Ω–∞–ª–∏–∑ –∏–≥—Ä—ã:</h3>
    <p id="analysisText" style="white-space: pre-line;"></p>
  </div>
</div>

</body>
</html>
